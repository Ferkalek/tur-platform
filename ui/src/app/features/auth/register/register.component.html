<div class="p-5">
  <div class="auth-card mx-auto">
    <div class="auth-header">
      <h2>Register</h2>
      <p>Create a new account</p>
    </div>

    <form
      [formGroup]="registerForm"
      (ngSubmit)="onSubmit()"
      class="auth-form"
    >
      <div class="form-group">
        <label for="firstName">First Name</label>
        <input
          type="text"
          id="firstName"
          formControlName="firstName"
          class="form-control"
          [class.error]="firstNameControl?.invalid && firstNameControl?.touched"
          placeholder="John"
        />
        @if (
          firstNameControl?.invalid && firstNameControl?.touched
        ) {
          <span class="error-message">First name is required (minimum 2 characters)</span>
        }
      </div>

      <div class="form-group">
        <label for="lastName">Last Name</label>
        <input
          type="text"
          id="lastName"
          formControlName="lastName"
          class="form-control"
          [class.error]="lastNameControl?.invalid && lastNameControl?.touched"
          placeholder="Doe"
        />
        @if (
          lastNameControl?.invalid && lastNameControl?.touched
        ) {
          <span class="error-message">Last name is required (minimum 2 characters)</span>
        }
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input
          pInputText
          type="text"
          id="email"
          placeholder="email"
          formControlName="email"
          [invalid]="emailControl?.invalid && emailControl?.touched"
        />
        @if (
          emailControl?.invalid && emailControl?.touched
        ) {
          <p-message
            severity="error"
            size="small"
            variant="simple"
          >Enter a valid email</p-message>
        }
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input
          pInputText
          type="password"
          id="password"
          formControlName="password"
          [invalid]="passwordControl?.invalid && passwordControl?.touched"
          placeholder="********"
        />
        @if (
          passwordControl?.invalid && passwordControl?.touched
        ) {
          <span class="error-message">Password must be at least 6 characters</span>
        }
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input
          type="password"
          id="confirmPassword"
          formControlName="confirmPassword"
          class="form-control"
          [class.error]="confirmPasswordControl?.invalid && confirmPasswordControl?.touched"
          placeholder="********"
        />
        @if (
          registerForm.hasError('passwordMismatch') &&
          confirmPasswordControl?.touched
        ) {
          <span class="error-message">Passwords do not match</span>
        }
      </div>

      <button
        pButton
        type="submit"
        [label]="loading ? 'Loading...' : 'Register'"
        [disabled]="registerForm.invalid || loading"
      ></button>

      <div class="auth-footer">
        <p>Already have an account? <a routerLink="/login">Sign In</a></p>
      </div>
    </form>
  </div>
</div>

<p-toast position="bottom-left" />
