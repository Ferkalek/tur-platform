<div class="p-5">
  <div class="animation-slide-up bg-white border-round-xl max-w-28rem mx-auto p-6 shadow-2">
    <div class="text-center mb-4">
      <h2 class="mb-3">Register</h2>
      <p class="text-gray">Create a new account</p>
    </div>

    <form
      [formGroup]="registerForm"
      (ngSubmit)="onSubmit()"
    >
      <div class="form-group">
        <label for="firstName">First Name</label>
        <input
          pInputText
          type="text"
          id="firstName"
          formControlName="firstName"
          [invalid]="firstNameControl?.invalid && firstNameControl?.touched"
          placeholder="John"
        />
        @if (
          firstNameControl?.invalid && firstNameControl?.touched
        ) {
          <p-message
            severity="error"
            size="small"
            variant="simple"
          >First name is required (minimum 2 characters)</p-message>
        }
      </div>

      <div class="form-group">
        <label for="lastName">Last Name</label>
        <input
          pInputText
          type="text"
          id="lastName"
          formControlName="lastName"
          [invalid]="lastNameControl?.invalid && lastNameControl?.touched"
          placeholder="Doe"
        />
        @if (
          lastNameControl?.invalid && lastNameControl?.touched
        ) {
          <p-message
            severity="error"
            size="small"
            variant="simple"
          >Last name is required (minimum 2 characters)</p-message>
        }
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input
          pInputText
          type="text"
          id="email"
          placeholder="email"
          formControlName="email"
          [invalid]="emailControl?.invalid && emailControl?.touched"
        />
        @if (
          emailControl?.invalid && emailControl?.touched
        ) {
          <p-message
            severity="error"
            size="small"
            variant="simple"
          >Enter a valid email</p-message>
        }
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input
          pInputText
          type="password"
          id="password"
          formControlName="password"
          [invalid]="passwordControl?.invalid && passwordControl?.touched"
          placeholder="********"
        />
        @if (
          passwordControl?.invalid && passwordControl?.touched
        ) {
          <p-message
            severity="error"
            size="small"
            variant="simple"
          >Password must be at least 6 characters</p-message>
        }
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input
          pInputText
          type="password"
          id="confirmPassword"
          formControlName="confirmPassword"
          [invalid]="confirmPasswordControl?.invalid && confirmPasswordControl?.touched"
          placeholder="********"
        />
        @if (
          registerForm.hasError('passwordMismatch') &&
          confirmPasswordControl?.touched
        ) {
          <p-message
            severity="error"
            size="small"
            variant="simple"
          >Passwords do not match</p-message>
        }
      </div>

      <div class="flex justify-content-center mb-3">
        <button
          pButton
          type="submit"
          [label]="loading ? 'Loading...' : 'Register'"
          [disabled]="registerForm.invalid || loading"
        ></button>
      </div>

      <div class="pt-3 border-top-1 border-gray-200 text-center">
        <p class="text-gray">Already have an account? <a routerLink="/login">Sign In</a></p>
      </div>
    </form>
  </div>
</div>

<p-toast position="bottom-left" />
